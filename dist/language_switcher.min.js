function a(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}var b=Object.assign({},{LANG_IDENTIFIER:"data-lang",DEFAULT_LANG:"en",WF_LANG_SELECTOR:".weglot-lang-selection",WF_LANG_CURRENT:".weglot-current",DEV:!1,INSIGHTS:{enabled:!1,domain:"",prefix:"insights"}},window.weglotCustomOptions);Weglot.on("languageChanged",function(a,b){c.setup(a,b)}),Weglot.on("initialized",function(){c.setupEventListeners()});var c={setup:function(a,d){c.log("Language changed from ".concat(d," to ").concat(a));var e=document.querySelectorAll(b.WF_LANG_SELECTOR),f=document.querySelector(b.WF_LANG_CURRENT),g=d||b.DEFAULT_LANG;f.textContent=a.toUpperCase();var h=Array.from(e),i=h.find(function(c){return c.getAttribute(b.LANG_IDENTIFIER)===a});i.setAttribute(b.LANG_IDENTIFIER,g),i.textContent=g.toUpperCase(),b.INSIGHTS.enabled&&c.updateInsightsLinks(a,d),c.setupEventListeners()},setupEventListeners:function(){document.querySelectorAll(b.WF_LANG_SELECTOR).forEach(function(a){a.removeEventListener("click",c.weglotClickAttacher),a.addEventListener("click",c.weglotClickAttacher)})},weglotClickAttacher:function(a){var d=a.currentTarget.getAttribute(b.LANG_IDENTIFIER);a.preventDefault(),Weglot.switchTo(d),c.log("Setup listener for",d)},updateInsightsLinks:function(d,e){var f=document.getElementsByTagName("a"),g=Array.from(f).filter(function(a){return a.href.includes(b.INSIGHTS.prefix)});c.log("Found ".concat(g.length," insights links")),g.forEach(function(f){var a,c,i=(c=2,function(a){if(Array.isArray(a))return a}(a=f.href.replace(new RegExp("-".concat(e,"$")),"").split("?"))||function(a,c){var d,e,f=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(a);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(a,c)||function(b,c){if(b){if("string"==typeof b)return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=i[0],k=i[1],l=void 0===k?"":k,m=j.split("/blog"),n=m[1]?m[1]:"";d!==b.DEFAULT_LANG?f.href="".concat(b.INSIGHTS.domain,"/").concat(d,"/blog").concat(n.length?n:"").concat(n.length?"-".concat(d):"").concat(l):f.href="".concat(b.INSIGHTS.domain,"/").concat(d,"/blog").concat(n.length?n:"").concat(l)})},log:function(a){b.DEV&&console.log(a)}}

//# sourceMappingURL=language_switcher.min.js.map