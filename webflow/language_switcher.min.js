var setupEventListeners=function setupEventListeners(){var otherLangOptions=document.querySelectorAll(WF_LANG_SELECTOR);otherLangOptions.forEach(function(link){link.removeEventListener("click",weglotClickAttacher);link.addEventListener("click",weglotClickAttacher)})};var weglotClickAttacher=function weglotClickAttacher(e){var lang=e.currentTarget.getAttribute(LANG_IDENTIFIER);e.preventDefault();Weglot.switchTo(lang);log("Setup listener for",lang)};var log=function log(message){if(DEV){console.log(message)}};var LANG_IDENTIFIER="data-lang";var DEFAULT_LANG="en";var WF_LANG_SELECTOR=".weglot-lang-selection";var WF_LANG_CURRENT=".weglot-current";var DEV=false;Weglot.on("languageChanged",function(newLang,prevLang){log("Language changed from ".concat(prevLang," to ").concat(newLang));var otherLangOptions=document.querySelectorAll(WF_LANG_SELECTOR);var wfCurrent=document.querySelector(WF_LANG_CURRENT);var previous=prevLang||DEFAULT_LANG;wfCurrent.textContent=newLang.toUpperCase();var otherLangOptionsArray=Array.from(otherLangOptions);var elementToUpdate=otherLangOptionsArray.find(function(option){return option.getAttribute(LANG_IDENTIFIER)===newLang});elementToUpdate.setAttribute(LANG_IDENTIFIER,previous);elementToUpdate.textContent=previous.toUpperCase();setupEventListeners()});Weglot.on("initialized",function(){setupEventListeners()})